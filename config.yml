# Author: Oliver Martin Grooby (16605155)

# Below is a YAML script that will generate the infastracture required
# for the assignment
imports:
# Import the Production Newtwork Jinja Template
- path: production-network-template.jinja
# Import the LAMP Subnetwork Jinja Template 
- path: lamp-subnetwork-template.jinja
# Import the Firewall Jinja Template
- path: firewall-template.jinja

resources: 
- name: production
  type: production-network-template.jinja
- name: lamp-net-euw
  type: lamp-subnetwork-template.jinja
  properties:
    ipRange: 10.10.0.0/16
    network: $(ref.production.selfLink)
    region: europe-west4
- name: lamp-net-useast
  type: lamp-subnetwork-template.jinja
  properties:
    ipRange: 10.20.0.0/16
    network: $(ref.production.selfLink)
    region: us-east4
- name: lamp
  type: firewall-template.jinja
  properties:
    network: $(ref.production.selfLink)
    protocol: TCP
